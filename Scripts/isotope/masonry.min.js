/*
 * Masonry layout mode
 * sub-classes Masonry
 * http://masonry.desandro.com
 */
(function(b,a){if(typeof define=="function"&&define.amd){define(["../layout-mode","masonry/masonry"],a)}else{if(typeof exports=="object"){module.exports=a(require("../layout-mode"),require("masonry-layout"))}else{a(b.Isotope.LayoutMode,b.Masonry)}}}(window,function factory(f,g){function d(j,k){for(var l in k){j[l]=k[l]}return j}var h=f.create("masonry");var a=h.prototype._getElementOffset;var e=h.prototype.layout;var b=h.prototype._getMeasurement;d(h.prototype,g.prototype);h.prototype._getElementOffset=a;h.prototype.layout=e;h.prototype._getMeasurement=b;var i=h.prototype.measureColumns;h.prototype.measureColumns=function(){this.items=this.isotope.filteredItems;i.call(this)};var c=h.prototype._manageStamp;h.prototype._manageStamp=function(){this.options.isOriginLeft=this.isotope.options.isOriginLeft;this.options.isOriginTop=this.isotope.options.isOriginTop;c.apply(this,arguments)};return h}));