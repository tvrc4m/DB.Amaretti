@using Orchard.ContentManagement;
@using Orchard.Tags.ViewModels;
@using Orchard.Utility.Extensions;
@using Orchard.Comments
@using Orchard.Comments.Models

@{
    var blogPost = Model.ContentItem;
    Layout.Title = Model.ContentItem.TitlePart.Title;
}

<article id="post-@blogPost.Id">
    <header class="group">
        <div id="header">
            <h2><a href="@Url.ItemDisplayUrl((IContent)blogPost)" rel="nofollow"><span itemprop="name">@blogPost.TitlePart.Title</span></a></h2>
        </div>
    </header>
    <div class="row metadata">     
        <div class="pull-left">        
                @if (Model.Tags.Items.Count > 0 && ((IEnumerable<ShowTagViewModel>)Model.Tags.Items[0].Tags).Any()) {
                    <span class="icon s7-ticket"></span>@Display(Model.Tags)
                }
                <span class="icon s7-users"></span>&nbsp;<a itemprop="url" href="@Href("~/profile/")@blogPost.CommonPart.Owner.UserName">@blogPost.CommonPart.Owner.UserName</a>    
        </div>
         <div class="pull-right">
                <span><span class="icon s7-comment"></span>
                    <span class="comment-count label label-info">@T.Plural("No Comments", "1 Comment", "{0} Comments", (int)Model.CommentCount)</span></span>                
                <span itemprop="datePublished"><span class="icon s7-date"></span>
                @blogPost.CommonPart.CreatedUtc.ToLocalTime().ToString("MMMM d, yyyy")</span>
        </div>
    </div>    
    @Display(Model.Summary)
</article>
@Display(Model.Footer)
